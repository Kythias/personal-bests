<div ng-controller="ProfileCtrl as prof">
    <h3 class="text-capitalize">{{prof.profileOwner}}'s Profile</h3>
    <h4 class="text-capitalize">{{prof.profileDetails}}</h4>
   
    <div class="container-fluid">
    <div class="row">
        <p ng-if="prof.myProfile()">Add a new PB!</p>
            <form class="col-xs-10 col-xs-offset-1 form-inline" ng-submit="prof.addLift(prof.newTitle, prof.newWeight)" ng-if="prof.myProfile()">
                <select class="form-control" ng-model="prof.newTitle">
                    <option value="">Select Lift...</option>
                    <option ng-repeat="lift in prof.liftList | orderBy: 'name'" value={{lift.name}}>{{ lift.name }}</option>
                </select>
                <input class="form-control" type="text" ng-model="prof.newWeight" placeholder="Weight">
                <button class="btn btn-default" type="submit">Submit</button>
            </form>
    </div>
    
    <div class="row form-group form-inline">
        <p>Enter a percentage below to show a training percentage against the lifts</p>
        <input type="number" class="form-control col-xs-1 col-xs-offset-1" ng-model="percentageChoice">
    </div>
    
    
     <table class="table table-striped">
        <th class="col-xs-4" ng-click="sortBy('lift.title')">Lift<span class="sortorder" ng-show="prof.propertyName === 'lift.title'" ng-class="{reverse: reverse}"></span></th>
        <th class="col-xs-2 text-center" ng-click="prof.sortBy('lift.weight')">Weight<span class="sortorder" ng-show="prof.propertyName === 'lift.weight'" ng-class="{reverse: reverse}"></span></th>
        <th class="col-xs-3 text-center" ng-click="prof.sortBy('lift.date')">On<span class="sortorder" ng-show="prof.propertyName === 'lift.date'" ng-class="{reverse: reverse}"></span></th>
        <th class="col-xs-2 text-center">Training %</th>
        <th class="col-xs-1 text-right" ng-if="prof.myProfile()"></th>
        <tr ng-repeat="lift in prof.myLifts | orderBy:prof.propertyName:reverse">
            <td>{{lift.title}}</td>
            <td class="text-center">{{lift.weight}} kg</td>
            <td class="text-center">{{lift.date | date : mediumDate}}</td>
            <td class="text-center">{{(lift.weight / 100) * percentageChoice | number: 1}}</td>
            <td class="text-right" ng-if="prof.myProfile()"><span class="glyphicon glyphicon-trash" ng-click="main.remove(lift._id, $index)"></span></td>
        </tr>
        
        </table>
        </div>
</div>
